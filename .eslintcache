[{"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\index.tsx":"1","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\App.tsx":"2","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\reportWebVitals.ts":"3","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\store\\types.ts":"4","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\views\\login\\index.tsx":"5","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\mock\\login.ts":"6","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\mock\\index.ts":"7","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\store\\index.ts":"8","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\routes\\index.tsx":"9","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\utils\\axios.tsx":"10"},{"size":479,"mtime":1607181904179,"results":"11","hashOfConfig":"12"},{"size":183,"mtime":1607071497052,"results":"13","hashOfConfig":"12"},{"size":425,"mtime":1607063681037,"results":"14","hashOfConfig":"12"},{"size":1418,"mtime":1607136061234,"results":"15","hashOfConfig":"12"},{"size":2204,"mtime":1607230436357,"results":"16","hashOfConfig":"12"},{"size":1202,"mtime":1607182959935,"results":"17","hashOfConfig":"12"},{"size":198,"mtime":1607182560625,"results":"18","hashOfConfig":"12"},{"size":217,"mtime":1607076474772,"results":"19","hashOfConfig":"12"},{"size":1039,"mtime":1607182333555,"results":"20","hashOfConfig":"12"},{"size":2408,"mtime":1607231468629,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nmfmv9",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\index.tsx",[],"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\App.tsx",[],"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\reportWebVitals.ts",[],["46","47"],"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\store\\types.ts",[],"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\views\\login\\index.tsx",["48","49"],"import React, { useEffect } from 'react'\r\nimport axios from '../../utils/axios'\r\nimport { Form, Input, Button, Checkbox, message } from 'antd'\r\nimport './index.scss'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst layout = {\r\n  labelCol: { span: 8 },\r\n  wrapperCol: { span: 12 },\r\n};\r\n\r\nconst tailLayout = {\r\n  wrapperCol: { offset: 8, span: 16 },\r\n};\r\n\r\nconst Login: React.FC = (props) => {\r\n  let history = useHistory()\r\n\r\n  const onFinish = (values: any) => {\r\n    console.log('Finished: ', values)\r\n    loginRequest(values)\r\n  }\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log('FinishFailed: ', errorInfo)\r\n  }\r\n\r\n  const loginRequest = (formData: any) => {\r\n    axios({\r\n      url: '/api/login',\r\n      method: 'POST',\r\n      data: {\r\n        username: formData.username,\r\n        password: formData.password\r\n      }\r\n    }).then(res => {\r\n      console.log('login request response: ', res)\r\n      if (res.status === 0) {\r\n        // TODO: set token\r\n        // history.push('/')\r\n        message.success('login success')\r\n      } else {\r\n        message.error('username or password error')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <section className='login-wrapper'>\r\n      <Form\r\n        {...layout}\r\n        className='login-form'\r\n        name=\"basic\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          label=\"Username\"\r\n          name=\"username\"\r\n          rules={[{ required: true, message: 'Please input your username!' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: 'Please input your password!' }]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\r\n          <Checkbox>Remember me</Checkbox>\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Login","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\mock\\login.ts",["50","51"],"const tokens = {\r\n  admin: \"admin-token\",\r\n  guest: \"guest-token\",\r\n  editor: \"editor-token\",\r\n};\r\n\r\nconst users = {\r\n  \"admin-token\": {\r\n    id: \"admin\",\r\n    role: \"admin\",\r\n    name: \"难凉热血\",\r\n    avatar: \"https://s1.ax1x.com/2020/04/28/J5hUaT.jpg\",\r\n    description: \"拥有系统内所有菜单和路由权限\",\r\n  },\r\n  \"editor-token\": {\r\n    id: \"editor\",\r\n    role: \"editor\",\r\n    name: \"编辑员\",\r\n    avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n    description:\"可以看到除户管理页面之外的所有页面\",\r\n  },\r\n  \"guest-token\": {\r\n    id: \"guest\",\r\n    role: \"guest\",\r\n    name: \"游客\",\r\n    avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n    description:\"仅能看到Dashboard、开发文档、权限测试和关于作者四个页面\",\r\n  },\r\n};\r\n\r\nexport default {\r\n  login: (request: any) => {\r\n    const { username } = JSON.parse(request.body)\r\n    const token = (tokens as any)[username] as string\r\n    if (!token) {\r\n      return {\r\n        status: 1,\r\n        message: 'username or password is wrong!'\r\n      }\r\n    } else {\r\n      return {\r\n        status: 0,\r\n        token\r\n      }\r\n    }\r\n  }\r\n}","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\mock\\index.ts",[],"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\store\\index.ts",[],"F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\routes\\index.tsx",["52","53"],"import React from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport Login from '../views/login'\r\nimport Layout from '../views/layout'\r\nimport { getUserInfo } from '../store/actions/user'\r\nimport { rootState } from '../store/types'\r\n\r\nconst Router: React.FC = (props:any) => { \r\n  const { token, role, getUserInfo } = props\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path='/login' component={Login}/>\r\n        <Route path='/'\r\n          render={() => {\r\n            if (!token) {\r\n              return <Redirect to='/login'/>\r\n            } else {\r\n              /* if (!role) {\r\n                return getUserInfo(token).then(() => <Layout />)\r\n              } else {\r\n                return <Layout />\r\n              } */\r\n              return <Layout />\r\n            }\r\n          }}\r\n        />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default connect((state: rootState) => state.user, { getUserInfo })(Router)","F:\\desktop\\Projects\\React_Practice\\react-admin\\src\\utils\\axios.tsx",["54","55"],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":1,"column":17,"nodeType":"62","messageId":"63","endLine":1,"endColumn":26},{"ruleId":"60","severity":1,"message":"64","line":17,"column":7,"nodeType":"62","messageId":"63","endLine":17,"endColumn":14},{"ruleId":"60","severity":1,"message":"65","line":7,"column":7,"nodeType":"62","messageId":"63","endLine":7,"endColumn":12},{"ruleId":"66","severity":1,"message":"67","line":31,"column":1,"nodeType":"68","endLine":47,"endColumn":2},{"ruleId":"60","severity":1,"message":"69","line":10,"column":18,"nodeType":"62","messageId":"63","endLine":10,"endColumn":22},{"ruleId":"60","severity":1,"message":"70","line":10,"column":24,"nodeType":"62","messageId":"63","endLine":10,"endColumn":35},{"ruleId":"60","severity":1,"message":"71","line":7,"column":10,"nodeType":"62","messageId":"63","endLine":7,"endColumn":17},{"ruleId":"60","severity":1,"message":"72","line":9,"column":11,"nodeType":"62","messageId":"63","endLine":9,"endColumn":25},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'history' is assigned a value but never used.","'users' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'role' is assigned a value but never used.","'getUserInfo' is assigned a value but never used.","'request' is defined but never used.","'IFResponseData' is defined but never used.","no-global-assign","no-unsafe-negation"]